var Engine=(function(d){var l=d.document,j=d.window,e=l.createElement("canvas"),n=e.getContext("2d"),b;e.width=505;e.height=606;l.body.appendChild(e);function g(){var o=Date.now(),p=(o-b)/1000;h(p);c();b=o;j.requestAnimationFrame(g)}function m(){i();b=Date.now();g()}function h(o){k(o);a()}function k(o){allEnemies.forEach(function(p){p.update(o)});player.update()}function a(){allEnemies.forEach(function(o){if(player.x<=(o.x+50)&&o.x<=(player.x+50)&&player.y<=(o.y+50)&&o.y<=(player.y+50)){player.hit()}if(player.lives<1){i()}})}function c(){var p=["images/water-block.png","images/stone-block.png","images/stone-block.png","images/stone-block.png","images/grass-block.png","images/grass-block.png"],q=6,s=5,r,o;for(r=0;r<q;r++){for(o=0;o<s;o++){n.drawImage(Resources.get(p[r]),o*101,r*83)}}f();n.fillStyle="rgb(250, 250, 250)";n.font="24px Helvetica";n.textAlign="left";n.textBaseline="bottom";n.fillText("Lives: "+player.lives,10,580);n.fillText("High Score: "+highScore,180,580);n.fillText("Score: "+score,390,580)}function f(){allEnemies.forEach(function(o){o.render()});player.render()}function i(){player.respawn();score=0}Resources.load(["images/stone-block.png","images/water-block.png","images/grass-block.png","images/enemy-bug.png","images/char-boy.png"]);Resources.onReady(m);d.ctx=n})(this);